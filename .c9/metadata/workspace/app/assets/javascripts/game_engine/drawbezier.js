{"filter":false,"title":"drawbezier.js","tooltip":"/app/assets/javascripts/game_engine/drawbezier.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":61,"column":1},"action":"insert","lines":["function drawBezier(context, points, max_t) {","\t","\t// Draw guides","\tcontext.lineWidth = 0.5;","\tcontext.strokeStyle = \"rgb(213, 213, 213)\";","\tcontext.beginPath();","\tcontext.moveTo(points[0].x, points[0].y);","\tcontext.lineTo(points[1].x, points[1].y);","\tcontext.stroke();","\tcontext.beginPath();","\tcontext.moveTo(points[2].x, points[2].y);","\tcontext.lineTo(points[3].x, points[3].y);","\tcontext.stroke();","\t","\t// Label end points","\tcontext.fillStyle = \"rgb(0, 0, 0)\";\t","\tcontext.fillRect(points[0].x-4, points[0].y-4, 8, 8);","\tcontext.fillRect(points[3].x-4, points[3].y-4, 8, 8);","\t","\t// Label control points","\tcontext.strokeStyle = \"rgb(0, 0, 0)\";","\tcontext.fillStyle = \"rgb(255, 255, 255)\";","\tcontext.beginPath();","\tcontext.moveTo(points[1].x, points[1].y-5);","\tcontext.lineTo(points[1].x+5, points[1].y);","\tcontext.lineTo(points[1].x, points[1].y+5);","\tcontext.lineTo(points[1].x-5, points[1].y);","\tcontext.lineTo(points[1].x, points[1].y-5);","\tcontext.fill();","\tcontext.stroke();","\tcontext.beginPath();","\tcontext.moveTo(points[2].x, points[2].y-5);","\tcontext.lineTo(points[2].x+5, points[2].y);","\tcontext.lineTo(points[2].x, points[2].y+5);","\tcontext.lineTo(points[2].x-5, points[2].y);","\tcontext.lineTo(points[2].x, points[2].y-5);","\tcontext.fill();","\tcontext.stroke();\t","\t","\t// Begin new path","\tcontext.beginPath();","\tcontext.moveTo(points[0].x, points[0].y);","\t","\t// Draw spline segemnts\t","\tfor (var t = 0.01; t <= max_t; t += 0.01) {","\t\tcontext.lineTo(","\t\t\t","\t\t\tMath.pow(1 - t, 3) * points[0].x + ","\t\t\t3 * t * Math.pow(1 - t, 2) * points[1].x +","\t\t\t3 * Math.pow(t, 2) * (1 - t) * points[2].x +","\t\t\tMath.pow(t, 3) * points[3].x,","\t\t\t","\t\t\tMath.pow(1 - t, 3) * points[0].y + ","\t\t\t3 * t * Math.pow(1 - t, 2) * points[1].y +","\t\t\t3 * Math.pow(t, 2) * (1 - t) * points[2].y +","\t\t\tMath.pow(t, 3) * points[3].y","\t\t);\t\t\t","\t}","\t","\t// Stroke path","\tcontext.stroke();","}"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":10,"column":42},"end":{"row":10,"column":42},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1421249609911,"hash":"c547c5261529cc7267b18753e46cfadf392ace15"}